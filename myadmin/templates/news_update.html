{% extends 'navbar.html' %}
{% load staticfiles %}

{% block body %}

<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/jquery-ui.min.js"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/themes/base/jquery-ui.css" type="text/css" media="all">


<style>
    .inner-content{

    }
    #photo{
        margin-bottom: 20px;
    }
    #news-title{
        margin-bottom: 20px;
    }
     #add-news{
        width: 200px;
        height: 50px;
        font-size: 17px;
        padding-top: 10px;
        float: right;
        margin-top: 20px;
    }
    .inner-content{
        overflow: hidden;
    }
    .inner-content img{
        height: 150px;
        margin-bottom: 20px;
    }

    .datepicker {
      z-index: 100;
    }

.inner-addon {
  position: relative;
}

/* style glyph */
.inner-addon .glyphicon {
  position: absolute;
  padding: 10px;
  pointer-events: none;
}

/* align glyph */
.left-addon .glyphicon  { left:  0px;}
.right-addon .glyphicon { right: 0px;}

/* add padding  */
.left-addon input  { padding-left:  30px; }
.right-addon input { padding-right: 30px; }

</style>
{% if news %}
<div class="container">
   <div class="inner-content">
  <form enctype="multipart/form-data" action="{% url 'myadmin:news_update_save' news.pk %}" method="post" novalidate>
      <input type='hidden' name='csrfmiddlewaretoken' value='gXkhTULEDj3mYFmsizPopbbKU6BSMGLEDYvMMG1kxQMC8qDBKOXlDvQlxqE7rbGy' />
    {% csrf_token %}
        <img src="{{news.img_url}}">
        <input type="file" id="photo" name="photo" multiple />
        <label for="#title">Заголовок</label>
        <input type="text" class="form-control" name="title" id="news-title" value="{{news.title}}"><br>
        <div class="form-group col-md-6">
           <label class="control-label" for="datefrom" > Дата:</label>
           <div class="inner-addon right-addon">
             <i class="glyphicon glyphicon-calendar"></i>
             <input name="datefrom" style="font-size: 90%;" id="datefrom" data-provide="datepicker" type="text" class="form-control" placeholder="Наразі будь-який" />
          </div>
        </div> <br><br>
        <label for="#text">Текст</label>
      <textarea name="text" rows="10" cols="40" id="text">{% autoescape off %}{{news.text}} {% endautoescape %}</textarea>
      <button id="add-news" type="submit" class="btn btn-default"> Изменить </button>
    </form>
    </div>
</div>

{% endif %}

<script>

  $.datepicker.regional['it'] = {
      monthNames: ['Січень','Лютий','Березень','Квітень','Травень','Червень', 'Липень','Серпень','Вересень','Жовтень','Листопад','Грудень'], // set month names
      monthNamesShort: ['Gen','Feb','Mar','Apr','Mag','Giu','Lug','Ago','Set','Ott','Nov','Dic'], // set short month names
      dayNames: ['Понеділок','Вівторок','Середа','Четвер',"П'ятниця",'Субота','Неділя'], // set days names
      dayNamesShort: ['ПН','ВВ','СР','ЧТ','ПТ','СБ','НД'], // set short day names
      dayNamesMin: ['ПН','ВВ','СР','ЧТ','ПТ','СБ','НД'], // set more short days names
      dateFormat: 'dd/mm/yy' // set format date
  };

  $.datepicker.setDefaults($.datepicker.regional['it']);

  $('#datefrom').datepicker({
      format: 'mm-dd-yyyy',
  });

  $('#dateto').datepicker({
      format: 'mm-dd-yyyy',
  });

</script>


  <script>
  tinymce.init({
    selector: 'textarea',
    height: 300,
    menubar: true,
    plugins: [
      'advlist autolink lists link image charmap print preview anchor',
      'searchreplace visualblocks code fullscreen',
      'insertdatetime media table contextmenu paste code'
    ],
    toolbar: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent',
    content_css: [
      ]
  });

  </script>

  {% endblock %}
